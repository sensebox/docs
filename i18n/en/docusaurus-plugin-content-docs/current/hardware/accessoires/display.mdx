---
sidebar_position: 1
title: OLED Display
hide_title: false
description: senseBox OLED Display
---

import ImageWithText from '@site/src/components/ImageWithText/ImageWithText'
import display from '@site/static/img/hardware-bilder/oled/display.png'
import TutorialPorts_en from '@site/src/components/TutorialPorts/TutorialPorts_en'
import { useBoardStore } from '@site/src/lib/stores/store'

# OLED Display

With the senseBox OLED display, you can display measurements, status messages, and much more on 128x64 pixels.

<ImageWithText src={display} alt="OLED Display" title="OLED Display" />

## Technical Information

- "Plug-in-and-Go" senseBox compatible through breakout board with JST connector
- Dimensions: 24mm x 25mm x 19mm
- Resolution of 128x64 pixels
- Panel size: 26.70x19.26x1.45 (mm)

## Connection

<TutorialPorts_en port="i2c" />

## Programming (Arduino)

### Software Library

To program the sensor in Arduino, you need to install the software libraries [Adafruit GFX Library](https://www.arduino.cc/reference/en/libraries/adafruit-gfx-library/) **and** [Adafruit SSD1306](https://www.arduino.cc/reference/en/libraries/adafruit-ssd1306/).

### Code

This sketch displays "Hello World!" on the display.

```cpp
#include <SPI.h>
#include <Wire.h>
#include <Adafruit_GFX.h> // http://librarymanager/All#Adafruit_GFX_Library
#include <Adafruit_SSD1306.h> // http://librarymanager/All#Adafruit_SSD1306


#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET -1

Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

void setup() {
    display.begin(SSD1306_SWITCHCAPVCC, 0x3D);
    display.display();
    delay(100);
    display.clearDisplay();
}


void loop() {
    display.setCursor(0,0);
    display.setTextSize(1);
    display.setTextColor(WHITE,BLACK);
    display.println("Hallo Welt!");
    display.display();
}
```

## Programming (Blockly)

To display information on the screen, it must first be initialized in the `Arduino run first`. 
Then, in the `Arduino loop forever`, the `Print on Display` loop and the `Clear Display` block can be placed. 
In the free section of the `Print on Display` block, it can then be specified what exactly should be displayed. 
The `Clear Display` block must be added so that different information is not written on top of each other.

![Text/Zahl anzeigen](/img/en/blockly-bilder/display/blockly-display-1.svg)

### Display Text/Number

To display text or a number, drag the `Display Text/Number` block into the free section of the `Print on Display` block.

![Text/Zahl anzeigen](/img/en/blockly-bilder/display/blockly-display-2.svg)

The `Write Text/Number` block has five settings:

- **Font color:** Here you can choose whether you want to write with white text on a black background or with black text on a white background.
- **Font size:** Here you can set the size of your text or number. In font size 1, a character is 8 pixels high, in font size 2, it is already 16 pixels.
- **x-coordinate:** Here you set the x-coordinate (see figure above) where you want to start writing.
- **y-coordinate:** Here you set the y-coordinate (see figure above) where you want to start writing.
- **Value:** The respective text, number, or measured value can be attached to this free block section.

![Text/Zahl anzeigen](/img/en/blockly-bilder/display/blockly-display-3.svg)
{useBoardStore((state) => (state.board === 'MCU-S2' || state.board === ':edu S2') && (
<>
<h2>Programming (CircuitPython)</h2>

<p>To program the display with CircuitPython, the senseBox MCU-S2 must first be flashed with CircuitPython. You can find instructions <a href="https://docs.sensebox.de/en/docs/misc/circuitpython_esp32">here</a>.</p>

<h3>Software Library</h3>

<p>Download the <a href="https://github.com/adafruit/Adafruit_CircuitPython_DisplayIO_SSD1306/releases/download/3.0.3/adafruit-circuitpython-displayio-ssd1306-10.x-mpy-3.0.3.zip">SSD1306 CircuitPython library</a> <b>and</b> the <a href="https://github.com/adafruit/Adafruit_CircuitPython_Display_Text/releases/download/3.3.3/adafruit-circuitpython-display-text-10.x-mpy-3.3.3.zip">adafruit_display_text library</a>. Extract the .zip files and copy the <code>.mpy</code> files from the <code>lib</code> folders into the <code>lib</code> folder of your senseBox (<code>CIRCUITPY</code> drive).</p>

<h3>Code</h3>

<p>Using the CircuitPython editor of your choice, you can now program the display and display content. This code shows "Hello senseBox!" on the display:</p>

<pre><code className="language-python">{`
import board
import displayio
import digitalio
import terminalio
from adafruit_display_text import label
import adafruit_displayio_ssd1306

# IO Enable
io_enable_pin = digitalio.DigitalInOut(board.IO_POWER)
io_enable_pin.direction = digitalio.Direction.OUTPUT
io_enable_pin.value = False

displayio.release_displays()

#oled_reset = board.D9

# Use for I2C
i2c = board.I2C()  # uses board.SCL and board.SDA
# i2c = board.STEMMA_I2C()  # For using the built-in STEMMA QT connector on a microcontroller
display_bus = displayio.I2CDisplay(i2c, device_address=0x3D)

# Use for SPI
# spi = board.SPI()
# oled_cs = board.D5
# oled_dc = board.D6
# display_bus = displayio.FourWire(spi, command=oled_dc, chip_select=oled_cs,
#                                 reset=oled_reset, baudrate=1000000)

WIDTH = 128
HEIGHT = 64  # Change to 64 if needed
BORDER = 5

display = adafruit_displayio_ssd1306.SSD1306(display_bus, width=WIDTH, height=HEIGHT)

# Make the display context
splash = displayio.Group()
display.root_group = splash

color_bitmap = displayio.Bitmap(WIDTH, HEIGHT, 1)
color_palette = displayio.Palette(1)
color_palette[0] = 0xFFFFFF  # White

bg_sprite = displayio.TileGrid(color_bitmap, pixel_shader=color_palette, x=0, y=0)
splash.append(bg_sprite)

# Draw a smaller inner rectangle
inner_bitmap = displayio.Bitmap(WIDTH - BORDER * 2, HEIGHT - BORDER * 2, 1)
inner_palette = displayio.Palette(1)
inner_palette[0] = 0x000000  # Black
inner_sprite = displayio.TileGrid(
	inner_bitmap, pixel_shader=inner_palette, x=BORDER, y=BORDER
)
splash.append(inner_sprite)

# Draw a label
text = "Hello senseBox!"
text_area = label.Label(
	terminalio.FONT, text=text, color=0xFFFFFF, x=28, y=HEIGHT // 2 - 1
)
splash.append(text_area)

while True:
	pass`}</code></pre>
</>
))}

## Projects

- #### [IoT Messstation](https://sensebox.de/projects/de/2024-01-10-iotmesstation_s2)
