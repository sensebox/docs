---
sidebar_position: 0
title: Niederschlagssensor
hide_title: false
description: Niederschlagssensor (RG15)
---

import ImageWithText from '@site/src/components/ImageWithText/ImageWithText'
import precipationSensor from '@site/static/img/hardware-bilder/niederschlag/sensor_niederschlag_rg15.png'
import adapter from '@site/static/img/hardware-bilder/niederschlag/adapterplatine_rg15.png'
import TutorialPorts from '@site/src/components/TutorialPorts/TutorialPorts'
import { useBoardStore } from '@site/src/lib/stores/store'

# Niederschlagssensor

Der Hydreon RG-15 ist ein präziser, wartungsfreier Niederschlagssensor, der mithilfe von Infrarottechnologie und einer speziellen Kunststofflinse die Niederschlagsmenge und -intensität erfasst.

<ImageWithText
  src={precipationSensor}
  alt="Niederschlagssensor"
  title="Niederschlagssensor"
/>

## Technische Information
- "Plug-in-and-Go" senseBox kompatibel
- Maße: 121mm x 71mm x 56mm
- Abweichung bei Messungen von ±10%
- Messungen bei Temperaturen von -40°C bis +60°C (-40°F bis +140°F)
- Nominelle Stromzufuhr von 110 μA und 2-4 mA bei Niederschlag
- Betriebsspannung 5V oder 3.3V
- Serielle Schnittstelle (UART)

## Anschluss
<TutorialPorts port="uart" />

## Adapterplatine

Der RG-15 Sensor kann auf Grund unterschiedlicher Betriebsspannungen nicht direkt an die senseBox angeschlossen werden.
Daher ist eine Adapterplatine notwendig, die den Sensor mit der senseBox verbindet.
Diese Adapterplatine ist im Lieferumfang des Sensors enthalten und wird über das {useBoardStore((state) => (state.board === 'MCU-S2' || state.board === ':edu S2') ? <a href="https://sensebox.kaufen/product/qwiic-kabel-500mm">QWIIC-Kabel SB-074</a> : <a href="https://sensebox.kaufen/product/sensebox-kabel-jst-jst-500mm">senseBox-Kabel SB-057</a>)} mit der senseBox verbunden.

<ImageWithText
  src={adapter}
  alt="Adapterplatine"
  title="Adapterplatine"
/>

## Programmierung (Arduino)

### Software Bibliothek

Um den Sensor in Arduino zu programmieren, musst du die Software Bibliothek [RG15-Arduino](https://github.com/sensebox/rg15-arduino-lib) installieren. Eine detaillierte Anleitung zum Hinzufügen von Bibliotheken findest du in unserer [Dokumentation](https://docs.sensebox.de/docs/editors/arduino/libraries-hinzufuegen/).

### Code

Dieser Code gibt die Niederschlagsintensität im Seriellen Monitor aus. Über die Variablen getEventAccumulation und getTotalAccumulation kannst du auf die anderen Messwerte zugreifen. Die Variable getAccumulation gibt die Niederschlagsmenge seit der letzten Messung an.

{useBoardStore((state) => (state.board === 'MCU-S2' || state.board === ':edu S2') ? (
  <>
    <p>Der Sensor wird im Beispiel über Serial0 initialisiert, was der Standardport auf der senseBox MCU S2, bzw. senseBox:edu S2 ist.</p>
    <pre><code className="language-cpp">{`#include <RG15.h> // https://github.com/sensebox/rg15-arduino-lib

// Initialise the RG15 through the serial port
RG15 rg15_Serial0(Serial0); 

void setup(){
    Serial.begin(9600);
    delay(2000);
    rg15_Serial0.begin();
    rg15_Serial0.resetAccumulation();
}

void loop(){
    rg15_Serial0.poll();
    float intensity = rg15_Serial0.getRainfallIntensity();
    Serial.print("Niederschlagsintensität: ");
    Serial.print(intensity);
    Serial.println(" mm/h");
    delay(1000);
}`}</code></pre>
  </>
) : (
  <>
    <p>Der Sensor wird im Beispiel über Serial1 initialisiert. Auf der senseBox MCU, bzw. senseBox:edu kann alternativ auch Serial2 verwendet werden.</p>
    <pre><code className="language-cpp">{`#include <RG15.h> // https://github.com/sensebox/rg15-arduino-lib
#include <SenseBoxIO.h>

// Initialise the RG15 through the serial port
RG15 rg15_Serial1(Serial1); 

void setup(){
    Serial.begin(9600);
    delay(2000);
    rg15_Serial1.begin();
    rg15_Serial1.resetAccumulation();
}

void loop(){
    rg15_Serial1.poll();
    float intensity = rg15_Serial1.getRainfallIntensity();
    Serial.print("Niederschlagsintensität: ");
    Serial.print(intensity);
    Serial.println(" mm/h");
    delay(1000);
}`}</code></pre>
  </>
))}

## Programmierung (Blockly)

In Blockly kann der Sensor über folgenden Block ausgelesen werden:

![](/img/hardware-bilder/niederschlag/niederschlag-blockly.svg)

Im Block kannst du zwischen den verschiedenen Parametern des Umweltsensors auswählen:
- Niederschlagsintensität in mm/h
- Niederschlagsmenge seit der letzten Messung in mm
- Gesamte Niederschlagsmenge in mm
- Niederschlag pro Event in mm

Zusätzlich kann dort der Serielle Port ausgewählt werden, an dem der Sensor angeschlossen ist.

## Extras
> - [Shop](https://sensebox.kaufen/product/hydreon-rg-15-regensensor)
> - [Hydreon RG-15 Datenblatt](https://rainsensors.com/wp-content/uploads/sites/3/2022/07/2022.07.18-rev-1.000-rg-15_instructions.pdf)
